{"ast":null,"code":"import _regeneratorRuntime from\"D:/reactProjects/BurgerBuilder/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/reactProjects/BurgerBuilder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/reactProjects/BurgerBuilder/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext}from'react';import{useState}from'react';import auth from'./authentication/fire';import{Route,Switch}from'react-router-dom';import Login from'./authentication/Login';import Layout from'./Components/Layout/Layout';import BurgerBuilder from'./container/BurgerBuilder/BurgerBuilder';import Checkout from'./container/Checkout/Checkout';import Orders from'./container/Orders/Orders';import{createUserWithEmailAndPassword,onAuthStateChanged,signInWithEmailAndPassword,signOut}from\"firebase/auth\";import Spinner from'./UI/Spinner/Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var logoutButton=/*#__PURE__*/createContext();var userName=/*#__PURE__*/createContext();var alertBanner=/*#__PURE__*/createContext();var setAlertBanner=/*#__PURE__*/createContext();var Authentication=function Authentication(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),alert=_useState2[0],setAlert=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),emailError=_useState8[0],setEmailError=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),passwordError=_useState10[0],setPasswordError=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),hasAccount=_useState12[0],sethasAccount=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),user=_useState14[0],setUser=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),load=_useState16[0],setLoad=_useState16[1];var clearInputs=function clearInputs(){setEmail('');setPassword('');};var clearErrors=function clearErrors(){setEmailError('');setPasswordError('');};onAuthStateChanged(auth,function(currentUser){setUser(currentUser);});var Name=user===null||user===void 0?void 0:user.email;var register=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoad(false);clearErrors();user=createUserWithEmailAndPassword(auth,email,password).catch(function(err){setLoad(true);switch(err.code){case\"auth/email-already-in-use\":setEmailError(\"*Email already in use\");break;case\"auth/invalid-email\":setEmailError(\"*Invalid Email\");break;case\"auth/weak-password\":setPasswordError(\"*Password should be atleast 6 characters\");break;default:setEmailError('');}});case 3:case\"end\":return _context.stop();}}},_callee);}));return function register(){return _ref.apply(this,arguments);};}();var login=function login(){setLoad(false);clearErrors();var user=signInWithEmailAndPassword(auth,email,password).catch(function(err){setLoad(true);switch(err.code){case\"auth/Invalid-email\":setEmailError(\"*Invalid Email\");break;case\"auth/user-disabled\":setEmailError(\"*User is disabled\");break;case\"auth/user-not-found\":setEmailError(\"*User not found\");break;case\"auth/wrong-password\":setPasswordError(\"*Wrong password\");break;default:setEmailError('');}});};var logout=function logout(){signOut(auth);setLoad(true);clearErrors();clearInputs();};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(logoutButton.Provider,{value:logout,children:/*#__PURE__*/_jsx(userName.Provider,{value:Name,children:/*#__PURE__*/_jsx(setAlertBanner.Provider,{value:setAlert,children:/*#__PURE__*/_jsx(alertBanner.Provider,{value:alert,children:user?/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,component:BurgerBuilder}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",component:Checkout}),/*#__PURE__*/_jsx(Route,{path:\"/orders\",component:Orders})]})}):/*#__PURE__*/_jsx(Login,{email:email,password:password,setEmail:setEmail,setPassword:setPassword,handleSignup:register,handleLogin:login,emailError:emailError,passwordError:passwordError,hasAccount:hasAccount,setHasAccount:sethasAccount,load:load})})})})})});};export default Authentication;export{logoutButton,userName,alertBanner,setAlertBanner};","map":{"version":3,"sources":["D:/reactProjects/BurgerBuilder/src/Authentication.js"],"names":["React","createContext","useState","auth","Route","Switch","Login","Layout","BurgerBuilder","Checkout","Orders","createUserWithEmailAndPassword","onAuthStateChanged","signInWithEmailAndPassword","signOut","Spinner","logoutButton","userName","alertBanner","setAlertBanner","Authentication","alert","setAlert","password","setPassword","email","setEmail","emailError","setEmailError","passwordError","setPasswordError","hasAccount","sethasAccount","user","setUser","load","setLoad","clearInputs","clearErrors","currentUser","Name","register","catch","err","code","login","logout"],"mappings":"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","sourcesContent":["import React, { createContext} from 'react'\r\nimport {  useState } from 'react';\r\nimport auth from './authentication/fire';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Login from './authentication/Login';\r\nimport Layout from './Components/Layout/Layout';\r\nimport BurgerBuilder from './container/BurgerBuilder/BurgerBuilder';\r\nimport Checkout from './container/Checkout/Checkout';\r\nimport Orders from './container/Orders/Orders';\r\n\r\nimport {\r\n    createUserWithEmailAndPassword,\r\n    onAuthStateChanged,\r\n    signInWithEmailAndPassword,\r\n    signOut,\r\n  } from \"firebase/auth\"\r\nimport Spinner from './UI/Spinner/Spinner';\r\n  const logoutButton=createContext()\r\n  const userName=createContext()\r\n  const alertBanner=createContext()\r\n  const setAlertBanner=createContext()\r\nconst Authentication = () => {\r\n  let [alert,setAlert]=useState(false)\r\n    const [password,setPassword]=useState(\"\")\r\n  const [email,setEmail]=useState(\"\")\r\n  const [emailError,setEmailError]=useState()\r\n  const [passwordError,setPasswordError]=useState()\r\n  const [hasAccount,sethasAccount]=useState(false)\r\n  const [user,setUser]=useState(\"\")\r\n  const [load,setLoad]=useState(true)\r\n  const clearInputs=()=>{\r\n    setEmail('')\r\n    setPassword('')\r\n  }\r\n\r\n  const clearErrors=()=>{\r\n    setEmailError('')\r\n    setPasswordError('')\r\n  }\r\n\r\n  onAuthStateChanged(auth,(currentUser)=>{\r\n    setUser(currentUser)\r\n  \r\n  })\r\n  const Name=user?.email\r\n\r\n  const register=async()=>{\r\n    setLoad(false)\r\n    clearErrors()\r\n    const user=createUserWithEmailAndPassword(auth,email,password)\r\n  .catch((err)=>{\r\n    setLoad(true)\r\n    switch(err.code){\r\n      case \"auth/email-already-in-use\":\r\n        setEmailError(\"*Email already in use\")\r\n        break\r\n        case \"auth/invalid-email\":\r\n            setEmailError(\"*Invalid Email\")\r\n            break\r\n            case \"auth/weak-password\":\r\n              setPasswordError(\"*Password should be atleast 6 characters\")\r\n              break\r\n              default:\r\n                setEmailError('')\r\n    }\r\n  })\r\n  }\r\n  \r\n  const login=()=>{\r\n    setLoad(false)\r\n    clearErrors()\r\n  const user=signInWithEmailAndPassword(auth,email,password)\r\n  .catch((err)=>{\r\n    setLoad(true)\r\n    switch(err.code){\r\n      case \"auth/Invalid-email\":\r\n        setEmailError(\"*Invalid Email\")\r\n        break\r\n        case \"auth/user-disabled\":\r\n          setEmailError(\"*User is disabled\")\r\n          break\r\n          case \"auth/user-not-found\":\r\n            setEmailError(\"*User not found\")\r\n            break\r\n            case \"auth/wrong-password\":\r\n              setPasswordError(\"*Wrong password\")\r\n              break\r\n              default:\r\n                setEmailError('')\r\n    }\r\n  })\r\n  }\r\n\r\n  const logout=()=>{\r\n     signOut(auth)\r\n     setLoad(true)\r\n     clearErrors()\r\n     clearInputs()\r\n  }\r\n\r\n    return (\r\n        <div>          \r\n        <logoutButton.Provider value={logout}>\r\n          <userName.Provider value={Name}>\r\n            <setAlertBanner.Provider value={setAlert}>\r\n              <alertBanner.Provider value={alert}>\r\n           \r\n             {user?(\r\n           <Layout>\r\n           <Switch>\r\n                   <Route path=\"/\" exact component={BurgerBuilder} />\r\n                   <Route path=\"/checkout\"  component={Checkout} />\r\n                   <Route path=\"/orders\"  component={Orders}/>\r\n           </Switch>\r\n       </Layout>\r\n      ):(\r\n        <Login\r\n        email={email}\r\n        password={password}\r\n        setEmail={setEmail}\r\n        setPassword={setPassword}\r\n        handleSignup={register}\r\n        handleLogin={login}\r\n        emailError={emailError}\r\n        passwordError={passwordError}\r\n        hasAccount={hasAccount}\r\n        setHasAccount={sethasAccount}\r\n        load={load}\r\n        />\r\n      )}\r\n      </alertBanner.Provider>\r\n      </setAlertBanner.Provider>\r\n       </userName.Provider>\r\n      </logoutButton.Provider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Authentication\r\nexport {logoutButton , userName, alertBanner, setAlertBanner}\r\n"]},"metadata":{},"sourceType":"module"}