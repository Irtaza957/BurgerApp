{"ast":null,"code":"import _createForOfIteratorHelper from\"D:/reactProjects/BurgerBuilder/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"D:/reactProjects/BurgerBuilder/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useHistory}from'react-router-dom';import CheckoutSummary from'../../Components/Layout/Burger/Order/CheckoutSummary/CheckoutSummary';import ContactData from'./ContactData/ContactData';import{Route}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Checkout=function Checkout(props){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),ingredients=_useState2[0],setIngredients=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];//for dynamic ingredients of burger which were selected in checkout\nuseEffect(function(){var query=new URLSearchParams(props.location.search);var ingredient={};var price=0;var _iterator=_createForOfIteratorHelper(query.entries()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var param=_step.value;//['salad','1']\nif(param[0]==='price'){price=param[1];}else{ingredient[param[0]]=+param[1];}}}catch(err){_iterator.e(err);}finally{_iterator.f();}setIngredients(ingredient);setPrice(price);},[]);var history=useHistory();function CheckoutCancelHandler(){history.push('/');}function CheckoutContinuedHandler(){history.replace('/checkout/contact-data');}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CheckoutSummary,{ingredients:ingredients,CheckoutCancelled:CheckoutCancelHandler,CheckoutContinued:CheckoutContinuedHandler}),/*#__PURE__*/_jsx(Route,{path:props.match.path+'/contact-data',render:function render(){return/*#__PURE__*/_jsx(ContactData,{price:price,ingredients:ingredients});}})]});};export default Checkout;","map":{"version":3,"sources":["D:/reactProjects/BurgerBuilder/src/container/Checkout/Checkout.js"],"names":["React","useState","useEffect","useHistory","CheckoutSummary","ContactData","Route","Checkout","props","ingredients","setIngredients","price","setPrice","query","URLSearchParams","location","search","ingredient","entries","param","history","CheckoutCancelHandler","push","CheckoutContinuedHandler","replace","match","path"],"mappings":"0PAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA2BC,SAA3B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,eAAP,KAA4B,sEAA5B,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,OAASC,KAAT,KAAsB,kBAAtB,C,wFACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CACxB,cAAmCP,QAAQ,CAAC,CAAD,CAA3C,wCAAOQ,WAAP,eAAmBC,cAAnB,eACA,eAAuBT,QAAQ,CAAC,CAAD,CAA/B,yCAAOU,KAAP,eAAaC,QAAb,eACJ;AACAV,SAAS,CAAC,UAAM,CACZ,GAAMW,CAAAA,KAAK,CAAC,GAAIC,CAAAA,eAAJ,CAAoBN,KAAK,CAACO,QAAN,CAAeC,MAAnC,CAAZ,CACA,GAAMC,CAAAA,UAAU,CAAC,EAAjB,CACA,GAAIN,CAAAA,KAAK,CAAC,CAAV,CAHY,yCAIKE,KAAK,CAACK,OAAN,EAJL,YAIZ,+CAAiC,IAAzBC,CAAAA,KAAyB,aAC7B;AACA,GAAGA,KAAK,CAAC,CAAD,CAAL,GAAW,OAAd,CAAsB,CAClBR,KAAK,CAACQ,KAAK,CAAC,CAAD,CAAX,CACH,CAFD,IAGI,CACAF,UAAU,CAACE,KAAK,CAAC,CAAD,CAAN,CAAV,CAAqB,CAACA,KAAK,CAAC,CAAD,CAA3B,CACH,CACJ,CAZW,qDAaZT,cAAc,CAACO,UAAD,CAAd,CACAL,QAAQ,CAACD,KAAD,CAAR,CACH,CAfQ,CAeP,EAfO,CAAT,CAiBA,GAAMS,CAAAA,OAAO,CAACjB,UAAU,EAAxB,CACA,QAASkB,CAAAA,qBAAT,EAAiC,CAC5BD,OAAO,CAACE,IAAR,CAAa,GAAb,EACJ,CACD,QAASC,CAAAA,wBAAT,EAAmC,CAC/BH,OAAO,CAACI,OAAR,CAAgB,wBAAhB,EACH,CAEG,mBACI,oCACI,KAAC,eAAD,EACA,WAAW,CAAEf,WADb,CAEA,iBAAiB,CAAEY,qBAFnB,CAGA,iBAAiB,CAAEE,wBAHnB,EADJ,cAMK,KAAC,KAAD,EACA,IAAI,CAAEf,KAAK,CAACiB,KAAN,CAAYC,IAAZ,CAAmB,eADzB,CAEA,MAAM,CAAE,qCAAK,KAAC,WAAD,EAAa,KAAK,CAAEf,KAApB,CAA2B,WAAW,CAAEF,WAAxC,EAAL,EAFR,EANL,GADJ,CAaH,CA1CD,CA4CA,cAAeF,CAAAA,QAAf","sourcesContent":["import React, { useState , useEffect} from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport CheckoutSummary from '../../Components/Layout/Burger/Order/CheckoutSummary/CheckoutSummary'\r\nimport ContactData from './ContactData/ContactData'\r\nimport { Route } from 'react-router-dom';\r\nconst Checkout = (props) => {\r\n    const [ingredients,setIngredients]=useState(1)\r\n    const [price,setPrice]=useState(0)\r\n//for dynamic ingredients of burger which were selected in checkout\r\nuseEffect(() => {\r\n    const query=new URLSearchParams(props.location.search)\r\n    const ingredient={}\r\n    let price=0\r\n    for(let param of query.entries()){\r\n        //['salad','1']\r\n        if(param[0]==='price'){\r\n            price=param[1]\r\n        }\r\n        else{\r\n            ingredient[param[0]]=+param[1]\r\n        }\r\n    }\r\n    setIngredients(ingredient) \r\n    setPrice(price)\r\n},[])\r\n\r\nconst history=useHistory()\r\nfunction CheckoutCancelHandler() {\r\n     history.push('/')\r\n}\r\nfunction CheckoutContinuedHandler(){\r\n    history.replace('/checkout/contact-data')\r\n}\r\n\r\n    return (\r\n        <div>\r\n            <CheckoutSummary \r\n            ingredients={ingredients}\r\n            CheckoutCancelled={CheckoutCancelHandler}\r\n            CheckoutContinued={CheckoutContinuedHandler}\r\n            />\r\n             <Route \r\n             path={props.match.path + '/contact-data'}\r\n             render={()=>(<ContactData price={price} ingredients={ingredients}/>)}\r\n             />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout\r\n"]},"metadata":{},"sourceType":"module"}