{"ast":null,"code":"import _regeneratorRuntime from\"D:/reactProjects/BurgerBuilder/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/reactProjects/BurgerBuilder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/reactProjects/BurgerBuilder/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext}from'react';import{useState}from'react';import auth from'./authentication/fire';import{Route,Switch}from'react-router-dom';import Login from'./authentication/Login';import Layout from'./Components/Layout/Layout';import BurgerBuilder from'./container/BurgerBuilder/BurgerBuilder';import Checkout from'./container/Checkout/Checkout';import Orders from'./container/Orders/Orders';import{createUserWithEmailAndPassword,onAuthStateChanged,signInWithEmailAndPassword,signOut}from\"firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var logoutButton=/*#__PURE__*/createContext();var userName=/*#__PURE__*/createContext();var alertBanner=/*#__PURE__*/createContext();var setAlertBanner=/*#__PURE__*/createContext();var Authentication=function Authentication(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),alert=_useState2[0],setAlert=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),emailError=_useState8[0],setEmailError=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),passwordError=_useState10[0],setPasswordError=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),hasAccount=_useState12[0],sethasAccount=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),user=_useState14[0],setUser=_useState14[1];var clearInputs=function clearInputs(){setEmail('');setPassword('');};var clearErrors=function clearErrors(){setEmailError('');setPasswordError('');};onAuthStateChanged(auth,function(currentUser){setUser(currentUser);});var Name=user===null||user===void 0?void 0:user.email;var register=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:clearErrors();user=createUserWithEmailAndPassword(auth,email,password).catch(function(err){switch(err.code){case\"auth/email-already-in-use\":setEmailError(\"*Email already in use\");break;case\"auth/invalid-email\":setEmailError(\"*Invalid Email\");break;case\"auth/weak-password\":setPasswordError(\"*Password should be atleast 6 characters\");break;}});case 2:case\"end\":return _context.stop();}}},_callee);}));return function register(){return _ref.apply(this,arguments);};}();var login=function login(){clearErrors();var user=signInWithEmailAndPassword(auth,email,password).catch(function(err){switch(err.code){case\"auth/Invalid-email\":setEmailError(\"*Invalid Email\");break;case\"auth/user-disabled\":setEmailError(\"*User is disabled\");break;case\"auth/user-not-found\":setEmailError(\"*User not found\");break;case\"auth/wrong-password\":setPasswordError(\"*Wrong password\");break;}});};var logout=function logout(){signOut(auth);clearErrors();clearInputs();};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(logoutButton.Provider,{value:logout,children:/*#__PURE__*/_jsx(userName.Provider,{value:Name,children:/*#__PURE__*/_jsx(setAlertBanner.Provider,{value:setAlert,children:/*#__PURE__*/_jsx(alertBanner.Provider,{value:alert,children:user?/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,component:BurgerBuilder}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",component:Checkout}),/*#__PURE__*/_jsx(Route,{path:\"/orders\",component:Orders})]})}):/*#__PURE__*/_jsx(Login,{email:email,password:password,setEmail:setEmail,setPassword:setPassword,handleSignup:register,handleLogin:login,emailError:emailError,passwordError:passwordError,hasAccount:hasAccount,setHasAccount:sethasAccount})})})})})});};export default Authentication;export{logoutButton,userName,alertBanner,setAlertBanner};","map":{"version":3,"sources":["D:/reactProjects/BurgerBuilder/src/Authentication.js"],"names":["React","createContext","useState","auth","Route","Switch","Login","Layout","BurgerBuilder","Checkout","Orders","createUserWithEmailAndPassword","onAuthStateChanged","signInWithEmailAndPassword","signOut","logoutButton","userName","alertBanner","setAlertBanner","Authentication","alert","setAlert","password","setPassword","email","setEmail","emailError","setEmailError","passwordError","setPasswordError","hasAccount","sethasAccount","user","setUser","clearInputs","clearErrors","currentUser","Name","register","catch","err","code","login","logout"],"mappings":"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","sourcesContent":["import React, { createContext} from 'react'\r\nimport {  useState } from 'react';\r\nimport auth from './authentication/fire';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Login from './authentication/Login';\r\nimport Layout from './Components/Layout/Layout';\r\nimport BurgerBuilder from './container/BurgerBuilder/BurgerBuilder';\r\nimport Checkout from './container/Checkout/Checkout';\r\nimport Orders from './container/Orders/Orders';\r\n\r\nimport {\r\n    createUserWithEmailAndPassword,\r\n    onAuthStateChanged,\r\n    signInWithEmailAndPassword,\r\n    signOut,\r\n  } from \"firebase/auth\"\r\n  const logoutButton=createContext()\r\n  const userName=createContext()\r\n  const alertBanner=createContext()\r\n  const setAlertBanner=createContext()\r\nconst Authentication = () => {\r\n  let [alert,setAlert]=useState(false)\r\n    const [password,setPassword]=useState(\"\")\r\n  const [email,setEmail]=useState(\"\")\r\n  const [emailError,setEmailError]=useState()\r\n  const [passwordError,setPasswordError]=useState()\r\n  const [hasAccount,sethasAccount]=useState(false)\r\n  const [user,setUser]=useState(\"\")\r\n  \r\n  const clearInputs=()=>{\r\n    setEmail('')\r\n    setPassword('')\r\n  }\r\n\r\n  const clearErrors=()=>{\r\n    setEmailError('')\r\n    setPasswordError('')\r\n  }\r\n\r\n  onAuthStateChanged(auth,(currentUser)=>{\r\n    setUser(currentUser)\r\n  })\r\n  const Name=user?.email\r\n\r\n  const register=async()=>{\r\n    clearErrors()\r\n    const user=createUserWithEmailAndPassword(auth,email,password)\r\n  .catch((err)=>{\r\n    switch(err.code){\r\n      case \"auth/email-already-in-use\":\r\n        setEmailError(\"*Email already in use\")\r\n        break\r\n        case \"auth/invalid-email\":\r\n            setEmailError(\"*Invalid Email\")\r\n            break\r\n            case \"auth/weak-password\":\r\n              setPasswordError(\"*Password should be atleast 6 characters\")\r\n              break\r\n    }\r\n  })\r\n  }\r\n\r\n  const login=()=>{\r\n    clearErrors()\r\n  const user=signInWithEmailAndPassword(auth,email,password)\r\n  .catch((err)=>{\r\n    switch(err.code){\r\n      case \"auth/Invalid-email\":\r\n        setEmailError(\"*Invalid Email\")\r\n        break\r\n        case \"auth/user-disabled\":\r\n          setEmailError(\"*User is disabled\")\r\n          break\r\n          case \"auth/user-not-found\":\r\n            setEmailError(\"*User not found\")\r\n            break\r\n            case \"auth/wrong-password\":\r\n              setPasswordError(\"*Wrong password\")\r\n              break\r\n    }\r\n  })\r\n  }\r\n\r\n  const logout=()=>{\r\n     signOut(auth)\r\n     clearErrors()\r\n     clearInputs()\r\n  }\r\n  \r\n    return (\r\n        <div>\r\n          \r\n          <logoutButton.Provider value={logout}>\r\n          <userName.Provider value={Name}>\r\n            <setAlertBanner.Provider value={setAlert}>\r\n              <alertBanner.Provider value={alert}>\r\n             {user?(\r\n           <Layout>\r\n           <Switch>\r\n                   <Route path=\"/\" exact component={BurgerBuilder} />\r\n                   <Route path=\"/checkout\"  component={Checkout} />\r\n                   <Route path=\"/orders\"  component={Orders}/>\r\n           </Switch>\r\n       </Layout>\r\n      ):(\r\n         <Login\r\n          email={email}\r\n          password={password}\r\n          setEmail={setEmail}\r\n          setPassword={setPassword}\r\n          handleSignup={register}\r\n          handleLogin={login}\r\n          emailError={emailError}\r\n          passwordError={passwordError}\r\n          hasAccount={hasAccount}\r\n          setHasAccount={sethasAccount}\r\n          />\r\n     \r\n      )}\r\n      </alertBanner.Provider>\r\n      </setAlertBanner.Provider>\r\n       </userName.Provider>\r\n      </logoutButton.Provider>\r\n     \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Authentication\r\nexport {logoutButton , userName, alertBanner, setAlertBanner}\r\n"]},"metadata":{},"sourceType":"module"}